---
id: function
name: test-wf
version: '1.0'
startsAt: WaitForGreeting
events:
- name: TestKafkaEvent
  source: testtopic
  type: kafka
functions:
- name: greetFunction
  type: script
states:
- name: WaitForGreeting
  type: EVENT
  consume:
  - eventName: TestKafkaEvent
    actionMode: SEQUENTIAL
    actions:
    - functionref:
        refname: greetFunction
        parameters:
          script: System.out.println("Hello:" + ((com.fasterxml.jackson.databind.JsonNode)kcontext.getVariable("testtopicVar")).get("firstName"));
  end:
    type: TERMINATE
